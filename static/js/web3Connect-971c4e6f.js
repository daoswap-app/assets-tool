import{d as k}from"./vue-router-048c6826.js";import{t as i}from"./i18n-d274a306.js";import{j as u,G as h}from"./index-079d1153.js";import{u as t}from"./web3Modal-7e7ca6c0.js";import{m as b}from"./message-ef4ab9c6.js";import{h as C,r as d,o as x,G as B,a3 as W,j as n,k as s,l as E,D as m,x as p,B as f,C as _,u as v}from"./runtime-core.esm-bundler-f67957fc.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./__vite-browser-external-c2c4480c.js";import"./vue-i18n.runtime.esm-bundler-4810931d.js";import"./preload-helper-101896b7.js";import"./index-5342a498.js";import"./___vite-browser-external_commonjs-proxy-66fe83c2.js";import"./index-28dec440.js";import"./index-7c731b92.js";const N={class:"container"},S={key:0,class:"wallet"},U={key:1},V=C({__name:"web3Connect",setup(j){const y=k(),e=d(!1),a=d(null);async function w(){try{e.value=!0,t().getConnectedWallet().then(async o=>{a.value=t().getWeb3,o.address&&await r(),e.value=!1}),e.value=!1}catch(o){console.error(o),e.value=!1}}function g(){t().disconnectWallet(),u().logOut()}const r=async()=>{e.value=!0,u().loginByUsername({username:"admin",password:"admin123"}).then(o=>{o.success&&h().then(()=>{y.push("/"),b("登录成功",{type:"success"})})}),e.value=!1};function c({code:o}){o==="Enter"&&r()}return x(()=>{window.document.addEventListener("keypress",c)}),B(()=>{window.document.removeEventListener("keypress",c)}),(o,z)=>{const l=W("el-button");return n(),s("div",null,[E("div",N,[a.value?(n(),s("div",S,[m(l,{class:"w-full",size:"default",type:"danger",loading:e.value,onClick:g},{default:p(()=>[f(_(v(i)("web3.disconnect")),1)]),_:1},8,["loading"])])):(n(),s("div",U,[m(l,{class:"w-full",size:"default",type:"primary",loading:e.value,onClick:w},{default:p(()=>[f(_(v(i)("web3.connectWallet")),1)]),_:1},8,["loading"])]))])])}}});const Q=L(V,[["__scopeId","data-v-f31899e5"]]);export{Q as default};
