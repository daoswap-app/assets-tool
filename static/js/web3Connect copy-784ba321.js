import{d as k}from"./vue-router-935545c9.js";import{t as m}from"./i18n-c677edf9.js";import{m as p,M as C}from"./index-f3f9a886.js";import{u as n}from"./onboard-28e9b244.js";import{m as x}from"./message-b1ebc32c.js";import{x as W,r as f,o as B,j as E,a7 as z,y as s,z as a,A as r,O as l,P as _,I as v,M as y,u as w}from"./runtime-core.esm-bundler-c80a0204.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import"./__vite-browser-external-c2c4480c.js";import"./vue-i18n.runtime.esm-bundler-d653d868.js";import"./preload-helper-101896b7.js";import"./___vite-browser-external_commonjs-proxy-66fe83c2.js";import"./addresses-c9475005.js";import"./utils-6de8de71.js";import"./index-aa19b975.js";import"./index-52cb6942-fd854f7e.js";import"./chains-54826113.js";import"./index-65a0c06c.js";import"./index-d3bbd989.js";const L={class:"container"},M={key:0,class:"wallet"},N={class:"details"},O={key:1},S=W({__name:"web3Connect copy",setup(U){const g=k(),e=f(!1),o=f(null);function c(){o.value=n().getWallet}n().$subscribe(()=>{c()});async function b(){try{e.value=!0,n().connectWallet().then(async()=>{o.value&&await i(),e.value=!1}),e.value=!1}catch(t){console.error(t),e.value=!1}}function h(){n().disconnectWallet(),p().logOut()}const i=async()=>{e.value=!0,p().loginByUsername({username:"admin",password:"admin123"}).then(t=>{t.success&&C().then(()=>{g.push("/"),x("登录成功",{type:"success"})})}),e.value=!1};function u({code:t}){t==="Enter"&&i()}return B(()=>{window.document.addEventListener("keypress",u),c()}),E(()=>{window.document.removeEventListener("keypress",u)}),(t,V)=>{const d=z("el-button");return s(),a("div",null,[r("div",L,[o.value?(s(),a("div",M,[r("div",N,[r("span",null,"Connected Wallet: "+l(o.value.label),1)]),_(d,{class:"w-full",size:"default",type:"danger",loading:e.value,onClick:h},{default:v(()=>[y(l(w(m)("web3.disconnect")),1)]),_:1},8,["loading"])])):(s(),a("div",O,[_(d,{class:"w-full",size:"default",type:"primary",loading:e.value,onClick:b},{default:v(()=>[y(l(w(m)("web3.connectWallet")),1)]),_:1},8,["loading"])]))])])}}});const te=I(S,[["__scopeId","data-v-fbf0e513"]]);export{te as default};
