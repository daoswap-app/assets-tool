import{d as k}from"./vue-router-048c6826.js";import{t as p}from"./i18n-d274a306.js";import{j as m,G as C}from"./index-079d1153.js";import{u as n}from"./onboard-daa9ec97.js";import{m as x}from"./message-ef4ab9c6.js";import{h as W,r as f,o as B,G as E,a3 as L,j as s,k as a,l,C as r,D as _,x as v,B as y,u as w}from"./runtime-core.esm-bundler-f67957fc.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import"./__vite-browser-external-c2c4480c.js";import"./vue-i18n.runtime.esm-bundler-4810931d.js";import"./preload-helper-101896b7.js";import"./index-5342a498.js";import"./___vite-browser-external_commonjs-proxy-66fe83c2.js";import"./addresses-bd8a7f8c.js";import"./utils-6de8de71.js";import"./index-aa19b975.js";import"./index-52cb6942-4c54134f.js";import"./index-28dec440.js";import"./index-7c731b92.js";const S={class:"container"},U={key:0,class:"wallet"},V={class:"details"},j={key:1},z=W({__name:"web3Connect copy",setup(D){const g=k(),e=f(!1),o=f(null);function c(){o.value=n().getWallet}n().$subscribe(()=>{c()});async function b(){try{e.value=!0,n().connectWallet().then(async()=>{o.value&&await i(),e.value=!1}),e.value=!1}catch(t){console.error(t),e.value=!1}}function h(){n().disconnectWallet(),m().logOut()}const i=async()=>{e.value=!0,m().loginByUsername({username:"admin",password:"admin123"}).then(t=>{t.success&&C().then(()=>{g.push("/"),x("登录成功",{type:"success"})})}),e.value=!1};function u({code:t}){t==="Enter"&&i()}return B(()=>{window.document.addEventListener("keypress",u),c()}),E(()=>{window.document.removeEventListener("keypress",u)}),(t,G)=>{const d=L("el-button");return s(),a("div",null,[l("div",S,[o.value?(s(),a("div",U,[l("div",V,[l("span",null,"Connected Wallet: "+r(o.value.label),1)]),_(d,{class:"w-full",size:"default",type:"danger",loading:e.value,onClick:h},{default:v(()=>[y(r(w(p)("web3.disconnect")),1)]),_:1},8,["loading"])])):(s(),a("div",j,[_(d,{class:"w-full",size:"default",type:"primary",loading:e.value,onClick:b},{default:v(()=>[y(r(w(p)("web3.connectWallet")),1)]),_:1},8,["loading"])]))])])}}});const te=N(z,[["__scopeId","data-v-fbf0e513"]]);export{te as default};
