import{t as _}from"./i18n-4a0f4af2.js";import{u as P}from"./wallet-9d9b6135.js";import{u as h}from"./web3Modal-4ce521cd.js";import{M as V}from"./MultiSigWallet_abi-6912cb8d.js";import{g as H,w as I}from"./web3-dfdb1234.js";import{_ as M}from"./Queue.vue_vue_type_style_index_0_lang-603ce29e.js";import{_ as D}from"./History.vue_vue_type_style_index_0_lang-85d415e8.js";import{x as T,r as s,o as N,a7 as f,y as g,z as E,P as u,I as r,A as S,O as F,u as b,H as C,L as y}from"./runtime-core.esm-bundler-c80a0204.js";import"./vue-i18n.runtime.esm-bundler-d653d868.js";import"./index-51c58d4e.js";import"./vue-router-935545c9.js";import"./___vite-browser-external_commonjs-proxy-e8043f7a.js";import"./web3.min-16c48c0e.js";import"./ERC20_abi-801f43f8.js";import"./constants-b9202782.js";import"./index-b5479df7.js";const L={class:"card-header"},R={class:"font-medium"},$=T({name:"Transactions"}),lt=T({...$,setup(q){const w=s(!1),o=s(null),n=s(null),e=s(null),k=s([]),B=s([]),x=async()=>{w.value=!0;const t=H(V,o.value,e.value),c=(await t.methods.getTransactionIds(0).call()).map(async a=>{const l=await t.methods.getTransaction(a).call(),p=await t.methods.getTransactionConfirmationStatus(a,n.value.address).call(),v={id:a,destination:l.to,value:I(l.value,e.value),executeState:l.state,confirmStatus:p};k.value.push(v)});await Promise.all(c);const d=(await t.methods.getTransactionIds(1).call()).map(async a=>{const l=await t.methods.getTransaction(a).call(),p=await t.methods.getTransactionConfirmationStatus(a,n.value.address).call(),v={id:a,destination:l.to,value:I(l.value,e.value),executeState:l.state,confirmStatus:p};B.value.push(v)});await Promise.all(d),w.value=!1};N(()=>{o.value=P().getWallet,n.value=h().getWallet,e.value=h().getWeb3,x()});const i=s("0");function A({index:t}){i.value=t}return(t,m)=>{const c=f("el-tab-pane"),W=f("el-tabs"),d=f("el-card");return g(),E("div",null,[u(d,{shadow:"never"},{header:r(()=>[S("div",L,[S("span",R,F(b(_)("transaction.transactions")+" - "+o.value),1)])]),default:r(()=>[u(W,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=a=>i.value=a),onTabClick:A},{default:r(()=>[u(c,{label:b(_)("transaction.queue"),name:"0"},{default:r(()=>[n.value&&e.value&&o.value?(g(),C(M,{key:0,connectedWallet:n.value,web3:e.value,currentWallet:o.value},null,8,["connectedWallet","web3","currentWallet"])):y("",!0)]),_:1},8,["label"]),u(c,{label:b(_)("transaction.history"),name:"1"},{default:r(()=>[n.value&&e.value&&o.value?(g(),C(D,{key:0,connectedWallet:n.value,web3:e.value,currentWallet:o.value},null,8,["connectedWallet","web3","currentWallet"])):y("",!0)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})])}}});export{lt as default};
