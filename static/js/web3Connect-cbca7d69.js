import{d as k}from"./vue-router-935545c9.js";import{t as i}from"./i18n-c677edf9.js";import{m as u,M as b}from"./index-1278628c.js";import{u as t}from"./web3Modal-e725f7b8.js";import{m as h}from"./message-61e1785c.js";import{x as C,r as d,o as x,j as B,a7 as W,y as n,z as s,A as E,P as m,I as p,M as f,O as _,u as v}from"./runtime-core.esm-bundler-c80a0204.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./__vite-browser-external-c2c4480c.js";import"./vue-i18n.runtime.esm-bundler-d653d868.js";import"./preload-helper-101896b7.js";import"./___vite-browser-external_commonjs-proxy-66fe83c2.js";import"./index-8ad0cb8c.js";import"./index-d75a69bf.js";const z={class:"container"},I={key:0,class:"wallet"},L={key:1},N=C({__name:"web3Connect",setup(S){const y=k(),e=d(!1),a=d(null);async function w(){try{e.value=!0,t().getConnectedWallet().then(async o=>{a.value=t().getWeb3,o.address&&await r(),e.value=!1}),e.value=!1}catch(o){console.error(o),e.value=!1}}function g(){t().disconnectWallet(),u().logOut()}const r=async()=>{e.value=!0,u().loginByUsername({username:"admin",password:"admin123"}).then(o=>{o.success&&b().then(()=>{y.push("/"),h("登录成功",{type:"success"})})}),e.value=!1};function c({code:o}){o==="Enter"&&r()}return x(()=>{window.document.addEventListener("keypress",c)}),B(()=>{window.document.removeEventListener("keypress",c)}),(o,U)=>{const l=W("el-button");return n(),s("div",null,[E("div",z,[a.value?(n(),s("div",I,[m(l,{class:"w-full",size:"default",type:"danger",loading:e.value,onClick:g},{default:p(()=>[f(_(v(i)("web3.disconnect")),1)]),_:1},8,["loading"])])):(n(),s("div",L,[m(l,{class:"w-full",size:"default",type:"primary",loading:e.value,onClick:w},{default:p(()=>[f(_(v(i)("web3.connectWallet")),1)]),_:1},8,["loading"])]))])])}}});const K=M(N,[["__scopeId","data-v-f31899e5"]]);export{K as default};
