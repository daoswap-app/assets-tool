import{t as f}from"./i18n-4a0f4af2.js";import{M as h}from"./MultiSigWallet_abi-6912cb8d.js";import{g as x,w as I}from"./web3-dfdb1234.js";import{x as y,r as p,o as S,a7 as d,y as W,z as A,P as a,I as l,A as e,O as n,u as b}from"./runtime-core.esm-bundler-c80a0204.js";const B={style:{display:"flex","align-items":"left"}},C=e("i",{class:"el-icon-time"},null,-1),T={style:{"margin-left":"10px"}},D={style:{display:"flex","align-items":"left"}},H={style:{"margin-left":"3px"}},M=y({name:"TransactionsHistory"}),N=y({...M,props:{connectedWallet:{type:Object,default:null},web3:{type:Object,default:null},currentWallet:{type:String,default:""}},setup(w){const s=w,_=p(!1),m=p([]),g=async()=>{_.value=!0;const r=x(h,s.currentWallet,s.web3),o=(await r.methods.getTransactionIds(1).call()).map(async i=>{const c=await r.methods.getTransaction(i).call(),u=await r.methods.getTransactionConfirmationStatus(i,s.connectedWallet.address).call(),t={id:i,destination:c.to,value:I(c.value,s.web3),executeState:c.state,confirmStatus:u};m.value.push(t)});await Promise.all(o),_.value=!1};return S(()=>{s.connectedWallet&&s.web3&&s.currentWallet&&g()}),(r,v)=>{const o=d("el-form-item"),i=d("el-form"),c=d("el-table-column"),u=d("el-table");return W(),A("div",null,[a(u,{data:m.value,style:{width:"100%"}},{default:l(()=>[a(c,{type:"expand"},{default:l(t=>[a(i,{"label-position":"left",inline:"",class:"demo-table-expand"},{default:l(()=>[a(o,{label:"商品名称"},{default:l(()=>[e("span",null,n(t.row.name),1)]),_:2},1024),a(o,{label:"所属店铺"},{default:l(()=>[e("span",null,n(t.row.shop),1)]),_:2},1024),a(o,{label:"商品 ID"},{default:l(()=>[e("span",null,n(t.row.id),1)]),_:2},1024),a(o,{label:"店铺 ID"},{default:l(()=>[e("span",null,n(t.row.shopId),1)]),_:2},1024),a(o,{label:"商品分类"},{default:l(()=>[e("span",null,n(t.row.category),1)]),_:2},1024),a(o,{label:"店铺地址"},{default:l(()=>[e("span",null,n(t.row.address),1)]),_:2},1024),a(o,{label:"商品描述"},{default:l(()=>[e("span",null,n(t.row.desc),1)]),_:2},1024)]),_:2},1024)]),_:1}),a(c,{label:b(f)("transaction.destination")},{default:l(t=>[e("div",B,[C,e("span",T,n(t.row.destination),1)])]),_:1},8,["label"]),a(c,{label:b(f)("transaction.value")},{default:l(t=>[e("div",D,[e("span",null,n(t.row.value),1),e("span",H,n(t.row.symbol),1)])]),_:1},8,["label"])]),_:1},8,["data"])])}}});export{N as _};
